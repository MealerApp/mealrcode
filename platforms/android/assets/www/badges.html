<div class="content"><h1>Badges</h1></div>
<div id='badgeOutlet'></div>


<script type="text/javascript">
   $(document).ready(function() {
  
    currentUser.fetch({
      success: function(result){
        var userBadges = currentUser.get('badges');
        userBadges.map( function(badge) {
          var query = new Parse.Query("Badge");
          query.get(badge, {
            success: function(result) {
              insertBadge(result.attributes);
            },    
            error: function(error) {
              console.log(error);
            }
          });
    
        })  
      },
    
      error: function(error){
       console.log(error); 
      
      }
    })    
  })

  function insertBadge(badge){
    var image = badge.image._url;
    var name = badge.name;
    var description = badge.description;
    
    var html = '<div class="badge_rows well row" style="width: 100%;"> \
      <div class="well"> \
        <img class="span4" src="'+ image +'" style="width:6em; height:6em;"/> \
        <div class="badgeContent span8"> \
        <p id="badgeName">' + name + '</p> \
        <p id="badgeDescription">'+ description + '</p> \
      </div> \
      </div>';
    
    $('#badgeOutlet').append(html);
  }

</script>










